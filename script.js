const translations = {
    en: {
        headerTitle: 'OguzHan Can',
        navHome: 'Home',
        navContact: 'Contact',
        navSettings: 'Settings',
        homeTitle: 'Hello!',
        homeDesc1: 'I\'m OguzHan, a 16-year-old web developer from Skedsmokorset, Norway.',
        homeDesc2: 'Specializing in vibrant, professional websites using HTML, CSS, and JavaScript.',
        homeDesc3: 'Hire me for stunning UI/UX designs at $40 per project!',
        hireButton: 'Hire Me',
        hireAlert: 'Email me at oguzsjef7@gmail.com to hire!',
        contactTitle: 'Contact Me',
        contactSub: 'Get in Touch',
        contactDesc: 'Available for freelance web design and front-end development.',
        sendButton: 'Send Message',
        sendAlert: 'Email me at oguzsjef7@gmail.com to start your project!',
        limitationsSub: 'Current Limitations',
        limitationsDesc: 'I specialize in front-end development and UI/UX design. Currently, I don’t offer:',
        limitation1: 'Backend development (e.g., databases, servers)',
        limitation2: 'Mobile app development',
        limitation3: 'Complex animations beyond CSS/JavaScript',
        limitationsNote: 'Working to master these skills soon!',
        settingsTitle: 'Settings',
        languageLabel: 'Language',
        closeButton: 'Close'
    },
    ar: {
        headerTitle: 'أوغوزهان جان',
        navHome: 'الرئيسية',
        navContact: 'اتصل',
        navSettings: 'الإعدادات',
        homeTitle: 'مرحبًا!',
        homeDesc1: 'أنا أوغوزهان، مطور ويب يبلغ من العمر 16 عامًا من سكيدسموكورست، النرويج.',
        homeDesc2: 'متخصص في تصميم مواقع ويب نابضة بالحياة واحترافية باستخدام HTML وCSS وJavaScript.',
        homeDesc3: 'استأجرني لتصميمات واجهة مستخدم/تجربة مستخدم مذهلة بـ 40 دولار لكل مشروع!',
        hireButton: 'استأجرني',
        hireAlert: 'راسلني عبر البريد الإلكتروني oguzsjef7@gmail.com لتوظيفي!',
        contactTitle: 'اتصل بي',
        contactSub: 'تواصلوا معي',
        contactDesc: 'متاح لتصميم الويب الحر وتطوير الواجهة الأمامية.',
        sendButton: 'إرسال رسالة',
        sendAlert: 'راسلني عبر oguzsjef7@gmail.com لبدء مشروعك!',
        limitationsSub: 'القيود الحالية',
        limitationsDesc: 'أتخصص في تطوير الواجهة الأمامية وتصميم واجهة المستخدم/تجربة المستخدم. حاليًا، لا أقدم:',
        limitation1: 'تطوير الخلفية (مثل قواعد البيانات، الخوادم)',
        limitation2: 'تطوير تطبيقات الهاتف المحمول',
        limitation3: 'الرسوم المتحركة المعقدة خارج CSS/JavaScript',
        limitationsNote: 'أعمل على إتقان هذه المهارات قريبًا!',
        settingsTitle: 'الإعدادات',
        languageLabel: 'اللغة',
        closeButton: 'إغلاق'
    },
    tr: {
        headerTitle: 'OguzHan Can',
        navHome: 'Ana Sayfa',
        navContact: 'İletişim',
        navSettings: 'Ayarlar',
        homeTitle: 'Merhaba!',
        homeDesc1: 'Ben OguzHan, Norveç Skedsmokorset\'ten 16 yaşında bir web geliştiricisiyim.',
        homeDesc2: 'HTML, CSS ve JavaScript kullanarak canlı, profesyonel web sitelerinde uzmanım.',
        homeDesc3: 'Proje başına 40$’a çarpıcı UI/UX tasarımlar için beni işe alın!',
        hireButton: 'Beni İşe Al',
        hireAlert: 'Beni işe almak için oguzsjef7@gmail.com adresine e-posta gönder!',
        contactTitle: 'Bana Ulaşın',
        contactSub: 'İletişime Geçin',
        contactDesc: 'Serbest web tasarımı ve ön uç geliştirme için müsaitim.',
        sendButton: 'Mesaj Gönder',
        sendAlert: 'Projenize başlamak için oguzsjef7@gmail.com adresine e-posta gönderin!',
        limitationsSub: 'Mevcut Sınırlamalar',
        limitationsDesc: 'Ön uç geliştirme ve UI/UX tasarımında uzmanım. Şu anda sunmadığım hizmetler:',
        limitation1: 'Arka uç geliştirme (ör. veritabanları, sunucular)',
        limitation2: 'Mobil uygulama geliştirme',
        limitation3: 'CSS/JavaScript ötesinde karmaşık animasyonlar',
        limitationsNote: 'Bu becerileri yakında öğreniyorum!',
        settingsTitle: 'Ayarlar',
        languageLabel: 'Dil',
        closeButton: 'Kapat'
    },
    no: {
        headerTitle: 'OguzHan Can',
        navHome: 'Hjem',
        navContact: 'Kontakt',
        navSettings: 'Innstillinger',
        homeTitle: 'Hei!',
        homeDesc1: 'Jeg er OguzHan, en 16 år gammel webutvikler fra Skedsmokorset, Norge.',
        homeDesc2: 'Spesialisert i levende, profesjonelle nettsteder ved bruk av HTML, CSS og JavaScript.',
        homeDesc3: 'Ansett meg for fantastiske UI/UX-design til $40 per prosjekt!',
        hireButton: 'Ansett Meg',
        hireAlert: 'Send meg en e-post på oguzsjef7@gmail.com for å ansette meg!',
        contactTitle: 'Kontakt Meg',
        contactSub: 'Ta Kontakt',
        contactDesc: 'Tilgjengelig for frilans webdesign og frontend-utvikling.',
        sendButton: 'Send Melding',
        sendAlert: 'Send en e-post til oguzsjef7@gmail.com for å starte prosjektet ditt!',
        limitationsSub: 'Nåværende Begrensninger',
        limitationsDesc: 'Jeg spesialiserer meg på frontend-utvikling og UI/UX-design. For øyeblikket tilbyr jeg ikke:',
        limitation1: 'Backend-utvikling (f.eks. databaser, servere)',
        limitation2: 'Mobilapp-utvikling',
        limitation3: 'Komplekse animasjoner utover CSS/JavaScript',
        limitationsNote: 'Jobber med å mestre disse ferdighetene snart!',
        settingsTitle: 'Innstillinger',
        languageLabel: 'Språk',
        closeButton: 'Lukk'
    }
};

let language = localStorage.getItem('language') || 'en';

function updateTranslations() {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[language]?.[key]) el.innerHTML = translations[language][key];
  });
  document.getElementById('languageSelect').value = language;
}

function changeLanguage() {
  language = document.getElementById('languageSelect').value;
  localStorage.setItem('language', language);
  updateTranslations();
  closeSettings();
}

function openSettings() { document.getElementById('settingsModal').classList.add('active'); }
function closeSettings() { document.getElementById('settingsModal').classList.remove('active'); }
function closeIfOutside(e) { if (e.target === document.getElementById('settingsModal')) closeSettings(); }

function scrollToTop() { window.scrollTo({top:0, behavior:'smooth'}); }
function scrollToSection(id) { document.getElementById(id).scrollIntoView({behavior:'smooth'}); }

// Generate all particles and stars
document.addEventListener('DOMContentLoaded', () => {
  updateTranslations();

  // Stars
  ['starfield-1', 'starfield-2'].forEach(id => {
    const field = document.getElementById(id);
    for(let i=0; i<300; i++) {
      const s = document.createElement('div');
      s.className = 'star';
      s.style.left = Math.random()*100 + '%';
      s.style.top = Math.random()*100 + '%';
      s.style.width = s.style.height = Math.random()*3 + 'px';
      field.appendChild(s);
    }
  });

  // Particles
  ['particles-1', 'particles-2', 'particles-3'].forEach(id => {
    const container = document.getElementById(id);
    for(let i=0; i<200; i++) {
      const p = document.createElement('div');
      p.className = 'particle';
      p.style.left = Math.random()*100 + '%';
      p.style.animationDelay = Math.random()*30 + 's';
      container.appendChild(p);
    }
  });

  // Floating crystals
  const crystals = document.getElementById('floating-crystals');
  for(let i=0; i<30; i++) {
    const c = document.createElement('div');
    c.className = 'crystal';
    c.style.left = Math.random()*100 + '%';
    c.style.animationDelay = Math.random()*25 + 's';
    crystals.appendChild(c);
  }

  // Fade in on scroll
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) entry.target.classList.add('visible');
    });
  });
  document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
});
